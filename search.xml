<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Render(3D世界的图片是如何被现实出来的)</title>
    <url>/2020/12/04/render/</url>
    <content><![CDATA[<h1 id="渲染"><a href="#渲染" class="headerlink" title="渲染"></a>渲染</h1><h2 id="出发点"><a href="#出发点" class="headerlink" title="出发点"></a>出发点</h2><p>渲染属于计算机图形学的范畴，本身涉及到很多的坐标转换等计算，本次记录不做具体的数学推导，只做一个原理的记录，仅为了方面搞明白图像处理中的边界问题。</p>
<a id="more"></a>
<h2 id="渲染的专业理解"><a href="#渲染的专业理解" class="headerlink" title="渲染的专业理解"></a>渲染的专业理解</h2><p>先甩出渲染管线的专业解释：<br><strong>将三维场景中的模型，按照设定好的环境、灯光、材质及渲染参数。二维投影成数字图像的过程</strong>。之所以是2D图像，是因为我们的屏幕是2D的，因此我们需要通过2D屏幕来呈现3D场景</p>
<h2 id="原理分析"><a href="#原理分析" class="headerlink" title="原理分析"></a>原理分析</h2><h3 id="物理成像理解"><a href="#物理成像理解" class="headerlink" title="物理成像理解"></a>物理成像理解</h3><p>可以想一下我们如何拍照(因为这就是一个渲染的过程)。<br>a.首先是找到要拍照的物体，比如人；<br>b.调整好相机角度；<br>c.卡擦，拍照。  </p>
<p>在计算机中，我们最终要成像，其实也是这么一个过程，里面的本地坐标和世界坐标转换等操作等操作都是为了模拟完成现实中的操作。<br><strong>请记住上面讲的实际的一个拍照成像过程，因为下面计算机的成像过程就是对物理世界的一个模仿和复现</strong></p>
<h3 id="基础知识储备"><a href="#基础知识储备" class="headerlink" title="基础知识储备"></a>基础知识储备</h3><p>我们小学老师都教过关于点、线、面的知识。  </p>
<ol>
<li>要构成一条直线，至少两个点。  </li>
<li>要构成一个面，至少三个点。<br><img src="/images/%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/%E7%82%B9.png"><img src="/images/%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/%E9%9D%A2.png"></li>
</ol>
<p>一个3维实体就是有无数面构成的，所以在计算机图形学中，构成图像成像的最小单元就是三角形。<br><img src="/images/%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/3d%E5%B0%8F%E7%90%83.png"></p>
<h3 id="问题锁定"><a href="#问题锁定" class="headerlink" title="问题锁定"></a>问题锁定</h3><p>要搞明白计算机如何现实一张图片出来，其实本质就是如何将这些三角形表示到屏幕上，那好办，只要我弄明白一个三角形是如何现实出来，就知道一幅图是如何现实出来了。</p>
<h3 id="渲染过程"><a href="#渲染过程" class="headerlink" title="渲染过程"></a>渲染过程</h3><p>惯例甩出一张图<br><img src="/images/%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/%E6%88%90%E5%83%8F.jpg"><br>同样和现实做一个对应：<br>现实中的相机–对应这里的白色小块，我们可以将它比作相机。<br>现实中的被拍物体–对应这里的三角形。<br>现实中的拍照成像–对应这里的中间的屏幕，可以看作就是显示屏。</p>
<p>在实际成像中，现实世界中要拍照成像，是要依托光线的，如果没有光线，将无法成像，在这里，左侧的白色块状物可以比作我们的相机，中间是就是我们的显示屏(2D屏幕)，三角形就是我们要拍照的物体，相机发出的光照射到三角形上，同时通过顶点的光线与屏幕相交于三个点，这三个点就是3D世界的三角形映射到2D世界上的一个呈现。将三个点相连，得到的就是屏幕上的三角形<br><img src="/images/%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/%E6%B8%B2%E6%9F%93.jpg"></p>
<p>将格子作为像素之类的比方，可以知道，这样三角形就被现实到屏幕上，真实物体都是有无数的三角形作为基础构成，所以通过将所有的三角形在通过同样的方法投影出来，那么物体的照片就会被展示出来，这里其实还有很多问题没有讲，比如三角形在空间中的遮挡问题如何解决等，这些先不做讲解，只要记住最朴素的原理就好。<br><img src="/images/%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/%E5%A4%9A%E4%B8%AA%E4%B8%89%E8%A7%92%E5%BD%A2.jpg"></p>
<h3 id="三角形的粒度问题"><a href="#三角形的粒度问题" class="headerlink" title="三角形的粒度问题"></a>三角形的粒度问题</h3><p>现在还有一个问题要讲解一下，关于这个最小单元的三角形，到底有多小？太大会则么样？</p>
<p>这其实是一个很重要的问题，关系到图片现实的质量，尤其是边界问题，<br><img src="/images/%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/rend1.gif"><br><img src="/images/%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/rend2.gif"><br>可以看出三角形越小，最终被渲染出的图片越精细和真实，那具体如何做到呢？<br>这是一个网格细分的问题，有很多技术可以做到这样的细分，也有很多优秀的算法，比如loop网格细分技术等，这里不做过多的了解。<br><img src="/images/%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/%E4%B8%89%E8%A7%92%E5%BD%A2%E6%8F%92%E5%80%BC.png"><br>你可以理解为，一个三角形如果要细分出更小的三角形，最方便的方法就是找到每一条边的中点，连接起来，那么一个三角形将编程四个三角形，达到三角形细分的作用。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>讲到这里也达到了我们的目的了，目的是为了引出最后的三角形细分的知识，因为它类似于图像处理中的边界问题，有点像插值技术。在图像处理中，尤其是医学图像处理中，由于噪声和边界模糊等问题，边界的识别一直是一个值得去思考的问题。仅此记录，便于理解PointRend技术。</p>
]]></content>
      <categories>
        <category>图像处理</category>
      </categories>
      <tags>
        <tag>-render -渲染 -计算机图形学</tag>
      </tags>
  </entry>
  <entry>
    <title>交叉熵的由来</title>
    <url>/2020/12/02/%E4%BA%A4%E5%8F%89%E7%86%B5%E7%9A%84%E7%94%B1%E6%9D%A5/</url>
    <content><![CDATA[<h2 id="克劳德·艾尔伍德·香农"><a href="#克劳德·艾尔伍德·香农" class="headerlink" title="克劳德·艾尔伍德·香农"></a>克劳德·艾尔伍德·香农</h2><p>网上有句话说，爱因斯坦发明了相对论，但却没能把我们带进相对论的时代；而香农开创了信息论，且把人类带入了信息的时代，不是说二者谁更厉害，而是香农的地位远比我们想的要高得多，如果有兴趣，推荐读一读《香农传》，可能了解那个时代的背景，自然会对那时候的论点有更深刻的认识。</p>
<p>香农熵<br>香农熵其实本意是信息熵，但是关于熵的概念最初不是应用在信息论中，而是物理化学中，下面先看看最初熵的概念</p>
<p>物理熵(各自瞎起名)<br>物理中的熵表示的是分子在空间中的位置不确定性，不确定性越高，熵越高，反之则越小，比如固体的不确定性低，液体次之，气体则很高，因为气体中的分子相对固体液体，显得更加活跃。</p>
<p>信息熵<br>信息熵中不是描述分子中的位置不确定行，而是和信息有密切关系，既然和信息相关，那我就以语言来进行举例说明，因为语言就是人类用来传递信息的，<br>我理解的信息熵：信息熵基于具体场景下确定结果的信息总量。听着可能有点绕口，下面逐个解释<br>如下图所示<br><img src="/images/%E4%BA%A4%E5%8F%89%E7%86%B5/%E7%9B%92%E5%AD%90%E9%87%8C%E7%9A%84%E5%AD%97%E6%AF%8D.png"></p>
<p>现在做一个实验，在不同的盒子中，取出一个字母。<br>假设一种取出字母的具体结果：A,所以在这里A就是确定的结果<br>那具体的场景是什么，这里具体的场景就是三堆不同的字母结合，在第一堆里是一个具体的场景，第二堆是一个具体的场景等。<br>现在采取问答的方式，来确定信息总量，你可以想作是一个人看着场景里的字母，要问多少句话，才能猜到取出来的这个字母具体是什么，好比是猜谜语游戏。</p>
<p>对于第一堆(第一个具体场景)：<br>张三问：其实不用问就知道结果，因为张三是看着这个场景发问，他已经知道这里只有A,自然可以准确猜到取出的数字就是A，<br>所以张三不用向外界获取任何信息，所以信息熵是最小的</p>
<p>对于第二个堆（第二个具体场景）:<br>张三问：是B吗？抽签人回答不是<br>张三问：是C吗？抽签人回答不是<br>张三问：是D吗？抽签人回答不是<br>这时张三才能确定抽签人抽到的是A，所以需要香外界获取三条信息，这时可能会有人问，如果这个人一开口就问是不是A，抽签人回答是，那只需要一条信息就能确定答案，以及还有其他的发问的方式，我理解的是，这个具体场景里本来就有四种字母，所以张三第一次就问到是不是A的，也是一个概率问题，这就为信息熵和概率直接的关系打下了基础，下面会接着讲，这里只需要知道，相比于第一堆的场景，第二堆不确定性更大，至少是要问一个问题才能确定答案，所以信息熵比第一个场景大，第三堆我们也就不说了，只要知道他的信息熵比第一种大就行，这就是熵和信息的关联。</p>
<p>知道熵和信息的具体关联后，要如何将信息熵与数学结合起来？<br>信息熵和概率问题</p>
<p>看如图三个杯子里分别有四个小球<br><img src="/images/%E4%BA%A4%E5%8F%89%E7%86%B5/%E7%9B%92%E5%AD%90%E9%87%8C%E7%9A%84%E5%B0%8F%E7%90%831.png"></p>
<p>做一个实验，每次取出一个小球放回，取四次，四次取出的结果顺序和杯子里小球的顺序为一样的概率是多少？<br>根据之前的套路<br>具体的结果:取出顺序和杯子里小球的顺序一样<br>具体的场景：第一个杯子，第二个杯子，第三个杯子<br>对于第一个杯子(第一个具体场景)：<br>具体结果：红红红红<br>概率：</p>
<p>$p=x+y$</p>
]]></content>
  </entry>
  <entry>
    <title>医学图像分类</title>
    <url>/2020/12/07/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB/</url>
    <content><![CDATA[<p>在医学图像中会有很多的分类,不同种类有不同的特点和用途，下面做一个简单的概述和总结</p>
<a id="more"></a>
<h2 id="普通分类"><a href="#普通分类" class="headerlink" title="普通分类"></a>普通分类</h2><p>包括医学图像意外的图像，最常见的分类是将其分为：二值图像（Binary image）,灰度图像（gray level image），彩色图像（color image），伪彩图像（false color image）。</p>
<h3 id="二值图像（Binary-image）"><a href="#二值图像（Binary-image）" class="headerlink" title="二值图像（Binary image）"></a>二值图像（Binary image）</h3><p>从名字直观理解，顾名思义就是只有两个值，假设只有0，1，0代表黑，1，代表白，或者0代表背景，1代表前景，这里需要表明二值图像不一定是0和1，也可以是其他的，只要图像只有两个值，就可以认为是二值图像，加上1一般无法从屏幕表示出来，通常1也被处理成255。<br><img src="/images/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB/binary.png"></p>
<h3 id="灰度图像（gray-level-image）"><a href="#灰度图像（gray-level-image）" class="headerlink" title="灰度图像（gray level image）"></a>灰度图像（gray level image）</h3><p>灰度图像是以0-255的灰阶表示，由于只包含单一通道信息，每个像素只有一个采样颜色的图像。对于“单一通道”，可以理解为是单一波长的电磁波成像，所以你可以看到CT,MRI,超声这些都是灰度图 。这类图像通常显示为从最暗黑色到最亮的白色的灰度，所以层次相比于二值图像更家丰富，从照片上来看也更加柔和。<br><img src="/images/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB/gray.png"></p>
<h3 id="彩色图像（color-image）"><a href="#彩色图像（color-image）" class="headerlink" title="彩色图像（color image）"></a>彩色图像（color image）</h3><p>彩色图像，可以看作是三个通道的灰度图的叠加，所以信息比灰度图又更加丰富<br><img src="/images/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB/color.png"></p>
<h3 id="伪彩图像（false-color-image）"><a href="#伪彩图像（false-color-image）" class="headerlink" title="伪彩图像（false color image）"></a>伪彩图像（false color image）</h3><p>对我个人理解，伪彩色是由我们人为的制造出来，而不是真实世界显示出的真彩色，那为什么要制造出这种伪彩图片呢？那当然是需求啦，人眼在分辨彩色的能力上很强，近乎可以分辨出上千中色彩，但是在分变灰度上，却很弱，据调查人眼只能分辨20多个灰度级，但是一张灰度图中却和彩色图像一样包含了上千个灰度级，所以伪彩色诞生了，通过将灰度图处理为伪彩图片，可以掌握更多的原始灰度图信息，所以一般伪彩图片都是对灰度图的处理。<br>  下图中是夜视仪下的一张灰度图，可以显示出温度的分布，从灰度图中可以看到，白色的代表温度高一些，为了更加细致和方便观察，通常转为伪彩图片(左)，温度分布更大明显。<br><img src="/images/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB/false_color.png"></p>
<h2 id="传感器的差别"><a href="#传感器的差别" class="headerlink" title="传感器的差别"></a>传感器的差别</h2><p>从所使用的传感器不同，可分为：光学图像（optical），红外图像（infrared），紫外图像（ultraviolet），x光（x-ray），雷达（radar），MRI（RF），超声图像（ultrasound），微波图像（microwave）等。<br>每一种图片都有不同的用途和特点。由于传感器最终都是搭载到平台上，所以具体会在传感器平台分类那一节做一个简单介绍。</p>
<h2 id="维度差别"><a href="#维度差别" class="headerlink" title="维度差别"></a>维度差别</h2><p>从维度上，可分为：2D,3D,4D</p>
<h2 id="传感器平台"><a href="#传感器平台" class="headerlink" title="传感器平台"></a>传感器平台</h2><p>根据搭载的传感器的平台的差异，可分为：卫星图片（satellite(geography)），显微镜图片（microscope），X光片(x-ray film),核磁共振图片（MRI—machine）等。</p>
<h3 id="显微镜图片"><a href="#显微镜图片" class="headerlink" title="显微镜图片"></a>显微镜图片</h3><p>显然这是通过显微镜来进行成像，通常是用来观察一些细小组织，比如花粉细胞等。能够很好的展示细小物体的结构特征。</p>
<h3 id="微波图像（microwave），雷达（radar），光学图像（optical）"><a href="#微波图像（microwave），雷达（radar），光学图像（optical）" class="headerlink" title="微波图像（microwave），雷达（radar），光学图像（optical）"></a>微波图像（microwave），雷达（radar），光学图像（optical）</h3><p>下图是三种不同技术在关于冰面覆盖下的海岸线的成像，可以看出光学图片下，几乎看不到海岸线，因为冰覆盖了海岸线，在雷达成像中能稍微看清海岸线，在微波成像下，海岸线越发清晰，所以不同的图片，展示的细节也不一样，用途不一样。<br><img src="/images/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB/optical_radar_micr.png"></p>
<h3 id="x-ray-CT-MRI-uv"><a href="#x-ray-CT-MRI-uv" class="headerlink" title="x-ray CT,MRI,uv"></a>x-ray CT,MRI,uv</h3><p>对于x-ray来说其实，是利用了x光线的成像原理，伦琴在某种巧合下发现了x射线可以穿透人体身体，后来医学界利用其人体内部对x涉嫌的吸收程度的区别，骨骼对x涉嫌的吸收多一些，软组织则少一些，拍出来的片子，暗一点的是骨骼，明一点的是组织，达到了一个很好的区分<br><img src="/images/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB/x-ray.png"></p>
<p>对于CT图来说呢，准确应该叫x-ray CT，其本质还是靠x光成像，所以和x-ray一样，便于区分骨骼，但是和x-ray的区别在于，CT是通过不同方位的拍片，然后再计算，最后形成一个断面图，这样能够更好的掌握内部细节。<br><img src="/images/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB/ct.png"></p>
<p>对于uv(超声)来说，相比与其他的医学成像，其噪声等更大，需要更加专业的人士才能看明白，但是他有别于x-ray和CT的地方是，它是绿色的，不含辐射，而且具有随时间实时成像的特性，所以一般孕检都会采用超声。<br><img src="/images/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB/ultrsound.png"></p>
<p>最后讲一讲MRI(磁共振),MRI的机器和CT很像，都是一个大滚筒样式，目的是为了机器内部传感器转动，能够多方位拍片，最后显示出一个断面图，但是相比于CT来说，它对观察软组织更加有利。还有一个很好的特点：无辐射，但是价格很贵。还没看病，拍片就得上千块。由于其成像原理是依托于核磁共振，所以如果你人体内部有钢板植入或者是类似心脏起搏器这样的钛钢类东西，基本就没法再享受MRI了。<br><img src="/images/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB/mri.png"></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>每一种医学成像技术原理都不尽相同，得到的图片含有的信息也有差异。在图像处理过程中，第一步往往就是预处理，只有深度掌握不同成像的图片，才能科学的进行预处理，为后续工作做铺垫。</p>
]]></content>
      <categories>
        <category>图像处理</category>
      </categories>
      <tags>
        <tag>-医学图像分类 -CT -MRI -x-ray -uv</tag>
      </tags>
  </entry>
</search>
